datasource db {
  provider = "mysql"
  url = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum Privilege {
  user
  admin
}

model Users {
  id Int @id @default(autoincrement())
  firstName String
  lastName String
  privilege Privilege @default(user)
  email String
  password String
  isActive Boolean @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  products Products[]
}

model Products {
  id Int @id @default(autoincrement())
  userId Int
  name String
  allowance Int @default(2)
  temperatureMin Float
  temperatureMax Float
  humidityMin Float
  humidityMax Float
  co2Min Float
  co2Max Float
  lightMin Float
  lightMax Float
  moistureMin Float
  moistureMax Float
  isActive Boolean @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  records Records[]
  user Users @relation(fields: [userId], references: [id])
}

model Records {
  id Int @id @default(autoincrement())
  productId Int
  recordedAt DateTime @default(now())
  product Products @relation(fields: [productId], references: [id])
}


